'use strict';
angular.module('chefUni')
.controller('recipeViewCtrl',  ['$scope', '$rootScope', '$http',
  function($scope,  $rootScope, $http) {
        var url = '/app/recipeList/' + $rootScope.recipeId;
        $scope.getRecipebyId = function() {
            $http.get(url)
            .success(function(data, status, headers, config) {
              $scope.recipe = data;
            });
        };
        $scope.createComment = function(newComment) {
            var comment = newComment.name + ": " + newComment.comment;
            console.log($scope.recipe.comments);
            $scope.recipe.comments.push(comment);
            console.log($scope.recipe.comments);
            $http.put(url, $scope.recipe)
            .success(function(data, status, headers, config) {
                console.log("in success");
            });
        };
    }
]);